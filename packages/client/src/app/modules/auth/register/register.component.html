<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="form">
  <!-- TODO: use a global error component once it exists -->
  <div class="misc-errors" *ngIf="(registrationForm.errors && confirmPassword?.touched) || error">
    <ng-container *ngIf="error">
      {{ error }}
    </ng-container>

    <ng-container *ngIf="registrationForm.errors?.['passwordsDoNotMatch'] && confirmPassword?.touched">
      The passwords do not match!
    </ng-container>
  </div>

  <blog-input [required]="true" [control]="email" type="email" label="Email Address" [large]="true" [fullWidth]="true" [error]="emailError" />
  <blog-input [required]="true" [control]="firstName" label="First Name" [large]="true" [fullWidth]="true" [error]="firstNameError" />
  <blog-input [required]="true" [control]="lastName" label="Last Name" [large]="true" [fullWidth]="true" [error]="lastNameError" />
  <blog-input [required]="true" type="password" [control]="password" label="Password" [large]="true" [fullWidth]="true" [error]="passwordError" />
  <blog-input [required]="true" type="password" [control]="confirmPassword" label="Confirm Password" [large]="true" [fullWidth]="true" [error]="confirmPasswordError" />

  <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>

  <button mat-flat-button color="primary" [disabled]="!registrationForm.valid">Register</button>
</form>

<div class="footer">
  <a routerLink="/auth/login">Login</a>
</div>
